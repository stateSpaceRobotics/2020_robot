<launch>
    <arg name="scan_topic"      default="scan"/>
    <arg name="odom_frame_id"   default="odom"/>
    <arg name="base_frame_id"   default="base_footprint"/>
    <arg name="global_frame_id" default="map"/>
    <arg name="tf_prefix"       default="tf_p"/>
    <arg name="single_bot"      default="false" />

    <node pkg="fake_localization" type="fake_localization" name="fake_localization">
        <param name="tf_prefix"                 value="$(arg tf_prefix)"                        unless="$(arg single_bot)"/>

        <param name="odom_frame_id"             value="$(arg odom_frame_id)"                    if="$(arg single_bot)"/>
        <param name="base_frame_id"             value="$(arg base_frame_id)"                    if="$(arg single_bot)"/>

        <param name="odom_frame_id"             value="$(arg tf_prefix)/$(arg odom_frame_id)"   unless="$(arg single_bot)"/>
        <param name="base_frame_id"             value="$(arg tf_prefix)/$(arg base_frame_id)"   unless="$(arg single_bot)"/>

        <param name="global_frame_id"           value="$(arg global_frame_id)"/>
        <remap from="scan"                      to="$(arg scan_topic)"/>
        <remap from="map"                       to="/map"/>
    </node>
</launch>